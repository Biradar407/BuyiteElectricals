<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>M/s. Buyite Electricals</title>

<!-- SEO basics -->
<meta name="description" content="M/s. Buyite Electricals — Licensed Super Grade Electrical Contractor: HT/LT Panels, Substations, Industrial Cabling, Testing, AMC & Breakdown." />
<meta name="theme-color" content="#0f6bdc" />

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
:root{
  --brand:#0f6bdc; --brand-2:#2aa4f4; --dark:#0b2239; --muted:#54627a;
  --radius:16px; --shadow:0 10px 25px rgba(0,0,0,.08); --pad:20px;
  --card:#ffffff; --bg:#f5f7fb;
}

*{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{font-family:'Montserrat',sans-serif;background:var(--bg);color:var(--dark);overflow-x:hidden}

/* Header */
header{
  position:sticky; top:0; z-index:1000;
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px; color:#fff;
  background:linear-gradient(90deg,var(--brand),var(--brand-2));
  box-shadow:0 4px 15px rgba(0,0,0,.2)
}
.brand{display:flex; align-items:center; gap:10px}
.logo{height:40px; width:40px; border-radius:8px; object-fit:cover}
.brand-name{font-size:18px;font-weight:800;white-space:nowrap}
.menu-btn{font-size:26px; cursor:pointer; line-height:1}

/* Sidebar (drawer) */
.sidebar{
  position:fixed;
  top:64px;
  left:0;
  bottom:0;
  width:280px;
  background:linear-gradient(145deg,#fff8e1,#ffe0b2);
  transform:translateX(-100%);
  transition:transform .3s ease;
  z-index:1100;
  padding:20px;
  box-shadow:4px 0 15px rgba(0,0,0,.2);
  display:flex;
  flex-direction:column;
  gap:8px
}
.sidebar.open{transform:translateX(0)}
.sidebar h3{
  text-align:center; margin-bottom:8px; font-weight:800;
  background:linear-gradient(145deg,#c8e6c9,#a5d6a7); padding:10px; border-radius:12px
}
.sidebar a{
  display:block; padding:12px 14px; background:#fff; border-radius:12px; text-decoration:none;
  color:var(--dark); font-weight:600; box-shadow:var(--shadow); transition:.2s
}
.sidebar a:hover{background:linear-gradient(145deg,#e0f7fa,#b2ebf2)}
.sidebar a.active{background:linear-gradient(135deg,#3399ff,#0f6bdc); color:#fff}

/* Panels / sections */
.panel{
  max-width:1100px; margin:28px auto; background:var(--card); border-radius:var(--radius);
  padding:var(--pad); box-shadow:var(--shadow); opacity:0; transform:translateY(32px);
  transition:all .6s ease;
  scroll-margin-top: 64px;
  overflow: hidden; /* prevent carousel overflow */
}
.panel.visible{opacity:1; transform:translateY(0)}
.panel h2{margin-bottom:10px; color:var(--brand)}
.panel p{color:var(--muted); line-height:1.6}

/* Home background logo */
#home {
  position: relative;
  overflow: hidden;
  background: url('logo.jpg') center/contain no-repeat;
}
#home::before {
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(255,255,255,0.75);
  pointer-events: none;
}
#home > * { position: relative; z-index: 1; }

/* Buttons */
.btn{
  display:inline-flex; align-items:center; gap:8px; padding:12px 18px; border-radius:22px;
  color:#fff; font-weight:700; background:linear-gradient(135deg,#3399ff,#0f6bdc);
  box-shadow:0 6px 18px rgba(0,0,0,.2); text-decoration:none; cursor:pointer; transition:.2s
}
.btn:hover{transform:translateY(-2px); box-shadow:0 10px 25px rgba(0,0,0,.3)}
.btn.outline{background:#fff;color:var(--brand);border:2px solid var(--brand)}

/* Login / Logout */
.admin-actions .admin-btn.login {
  display:inline-flex; align-items:center; gap:10px; padding:10px 16px;
  border-radius:12px; background:linear-gradient(135deg,#28a745,#1e7e34);
  color:#fff; font-weight:700; text-decoration:none;
  box-shadow:0 4px 12px rgba(0,0,0,.15); transition:.2s; white-space:nowrap;
}
.admin-actions .admin-btn.login:hover { transform:translateX(4px); box-shadow:0 6px 18px rgba(0,0,0,.25); }
#adminLogoutBtn {
  background:linear-gradient(135deg,#dc3545,#a71d2a);
  color:#fff; padding:10px 16px; border-radius:12px; font-weight:600;
  cursor:pointer; transition:.2s;
}
#adminLogoutBtn:hover { transform:translateY(-2px); box-shadow:0 6px 18px rgba(0,0,0,.25); }

/* Admin Dashboard vertical menu items */
.admin-dashboard {
  display:flex; flex-direction:column; gap:14px; max-width:280px; margin-top:10px;
}
.admin-dashboard .dash-item {
  display:flex; align-items:center; gap:12px; padding:12px 16px;
  background:linear-gradient(145deg,#f0f4ff,#d0e1ff);
  border-radius:12px; font-weight:600; cursor:pointer; transition:.2s;
}
.admin-dashboard .dash-item:hover { background:linear-gradient(145deg,#d0e1ff,#a0c4ff); transform:translateX(4px); }
.admin-dashboard .dash-item i { font-size:18px; color:var(--brand); }

/* Services grid */
.services-grid{
  display:grid; gap:16px; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); margin-top:16px
}
.service-card{
  background:#ffffff; border-radius:14px; padding:16px; box-shadow:var(--shadow);
  border:1px solid rgba(15,107,220,.08); min-height:150px
}
.service-card h4{margin-bottom:8px}

/* Hero carousel */
.carousel{
  position:relative; overflow:hidden; border-radius:16px; background:#e9eef7;
}
.carousel::before{content:""; display:block; width:100%; padding-top:56.25%}
.carousel-track{
  position:absolute; inset:0; display:flex; height:100%; transition:transform .2s ease
}
.carousel-track img{
  flex:0 0 100%; width:100%; height:100%; object-fit:cover; display:block; user-select:none
}
.carousel-dots{
  position:absolute; left:50%; bottom:8px; transform:translateX(-50%); display:flex; gap:6px
}
.dot{width:8px;height:8px;border-radius:50%;background:rgba(255,255,255,.6);border:1px solid rgba(0,0,0,.15)}
.dot.active{background:#fff}

/* ===== Customers / Team carousel (card style) ===== */
.carousel-wrapper {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 20px auto;
  max-width: 900px;
}
.carousel-container {
  overflow-x: hidden; /* hide scrollbars/arrows */
  flex: 1;
  padding: 10px 0;
  scroll-behavior: smooth;
}
.carousel-track {
  display: flex;
  gap: 20px;
  animation: autoScroll 10s linear infinite;
}
@keyframes autoScroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
.carousel-card {
  flex: 0 0 200px;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  background: #fff;
  padding: 14px;
  border-radius: 14px;
  box-shadow: 0 6px 18px rgba(0,0,0,.15);
  cursor: grab;
  transition: transform 0.1s;
}
.carousel-card:hover { transform: scale(1.05); }
.carousel-card img {
  width: 120px;
  height: 120px;
  object-fit: contain;
  margin-bottom: 10px;
  max-width: 100%;
}
.carousel-card span {
  font-weight: 600;
  color: var(--dark);
  font-size: 15px;
  word-wrap: break-word;
}
.carousel-container:hover .carousel-track {
  animation-play-state: paused;
}

/* Contact form */
.form-row{display:grid; grid-template-columns:1fr 1fr; gap:12px}
.form-row > *{width:100%}
.field{width:100%; padding:12px 12px; border-radius:12px; border:1px solid #cfd6e3; outline:none}
.field:focus{border-color:var(--brand); box-shadow:0 0 0 3px rgba(15,107,220,.12)}
textarea.field{min-height:120px; resize:vertical}

/* Footer */
footer{
  text-align:center; padding:16px; color:#fff; margin-top:36px;
  background:linear-gradient(90deg,var(--brand),var(--brand-2))
}

/* Responsive: Small screens */
@media (max-width:720px){
  .brand-name{font-size:16px}
  .form-row{grid-template-columns:1fr}
  .admin-dashboard{max-width:100%}
  .carousel-card { flex: 0 0 160
  px; padding: 10px; }
  .carousel-card img { width: 90px; height: 90px; }
  .carousel-card span { font-size: 13px; }
  .carousel-container { margin: 16px auto; }
  .carousel-track { gap: 12px; animation: autoScroll 5s linear infinite; }
}

/* Hide scrollbars on all platforms */
.carousel-container::-webkit-scrollbar { display: none; }
.carousel-container { -ms-overflow-style: none; scrollbar-width: none; }

/* Misc utility classes */
.text-center { text-align: center; }
.mt-20 { margin-top: 20px; }
.mb-20 { margin-bottom: 20px; }
.p-10 { padding: 10px; }

/* Card hover effect */
.card-hover:hover { transform: translateY(-4px); box-shadow: 0 12px 28px rgba(0,0,0,.2); transition: .1s; }

/* Image responsiveness inside cards/panels */
img { max-width: 100%; height: auto; display: block; }

/* Prevent carousel images overflow */
.carousel-card img, .service-card img { max-width: 100%; object-fit: contain; }

/* Smooth transitions for all interactive elements */
a, button, .btn, .dash-item { transition: all .3s ease; cursor: pointer; }

/* Rounded corners for panels and cards */
.panel, .service-card, .carousel-card { border-radius: var(--radius); }

/* Shadow for depth */
.panel, .service-card, .carousel-card, .btn { box-shadow: var(--shadow); }
</style>

</head>
<body>

<header role="banner" aria-label="Top navigation">
  <div class="brand">
    <img src="logo.jpg" alt="Buyite Electricals logo" class="logo" loading="lazy">
    <span class="brand-name">M/s. Buyite Electricals</span>
  </div>
  <button class="menu-btn" aria-label="Open navigation" onclick="toggleSidebar()">☰</button>
</header>

<!-- Drawer -->
<nav class="sidebar" id="sidebar" aria-label="Side navigation">
  <h3>Quick Navigation</h3>
  <a href="#home" onclick="scrollToPanel('home')">🏠 Home</a>
  <a href="#about" onclick="scrollToPanel('about')">ℹ️ About Us</a>
  <a href="#services" onclick="scrollToPanel('services')">💼 Services</a>
  <a href="#projects" onclick="scrollToPanel('projects')">🖼️ Projects</a>
  <a href="#customers" onclick="scrollToPanel('customers')">👥 Clients</a>
  <a href="#team" onclick="scrollToPanel('team')">👨‍💼 Our Team</a>
  <a href="#contact" onclick="scrollToPanel('contact')">📩 Contact</a>
  
  <a href="#" onclick="openAdminLogin()">🔑 Admin</a>
</nav>

<!-- Public site -->
<section id="home" class="panel" aria-labelledby="home-title">
  <h2 id="home-title">Welcome to M/s. Buyite Electricals</h2>
  <p>Government of Karnataka Licensed Super Grade Electrical Contractor & Engineer. We handle design, installation, testing, and maintenance of electrical systems for industrial, commercial, and residential projects.</p>
  <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
    <a href="#services" class="btn"><i class="fa-solid fa-bolt"></i> View Services</a>
    <a href="#contact" class="btn outline"><i class="fa-solid fa-phone"></i> Contact</a>
    
  </div>
</section>
  

<section id="about" class="panel" aria-labelledby="about-title">
  <h2 id="about-title">About Us</h2>
  <p>Based in Vijayapura, we deliver reliable electrical solutions with uncompromising safety and quality. Our team comprises licensed engineers and skilled electricians handling end-to-end electrical works.</p>
</section>

<section id="services" class="panel" aria-labelledby="services-title">
  <h2 id="services-title">Our Services</h2>
  <p>Turn-key and on-call services for industries, commercial spaces, and residences.</p>

  <div class="services-grid" role="list">
    <article class="service-card" role="listitem">
      <h4>HT/LT Panel Works</h4>
      <p>Design & installation of HT/LT panels, PCC, MCC, APFC, capacitor banks, and bus-ducts with testing & commissioning.</p>
    </article>
    <article class="service-card" role="listitem">
      <h4>Industrial Wiring & Cabling</h4>
      <p>Conduiting, tray works, armoured cabling, motor feeders, drives, earthing & lightning protection.</p>
    </article>
    <article class="service-card" role="listitem">
      <h4>Transformer & Substation</h4>
      <p>Substation erection, transformer installation, oil testing, earthing pits, and approvals with inspectorate.</p>
    </article>
    <article class="service-card" role="listitem">
      <h4>Testing & Measurements</h4>
      <p>IR, continuity, earth resistance, loop impedance, relay testing and complete energization dossiers.</p>
    </article>
    <article class="service-card" role="listitem">
      <h4>UPS / Battery Banks</h4>
      <p>Sizing, installation, and preventive maintenance of 6–10 KVA UPS, specific gravity checks, and health reports.</p>
    </article>
    <article class="service-card" role="listitem">
      <h4>AMC & Breakdown</h4>
      <p>Annual maintenance contracts, periodic inspections, and 24×7 breakdown assistance with rapid turnaround.</p>
    </article>
  </div>
</section>

<section id="projects" class="panel" aria-labelledby="projects-title">
  <h2 id="projects-title">Our Projects</h2>

  <div class="carousel" id="carousel" aria-roledescription="carousel">
    <div class="carousel-track" id="carouselTrack">
      <!-- Make sure these images exist; add loading=lazy for perf -->
      <img src="be1.jpg" alt="Project 1" loading="lazy">
      <img src="be2.jpg" alt="Project 2" loading="lazy">
      <img src="be3.jpg" alt="Project 3" loading="lazy">
      <img src="be4.jpg" alt="Project 4" loading="lazy">
      <img src="be5.jpg" alt="Project 5" loading="lazy">
      <img src="be6.jpg" alt="Project 6" loading="lazy">
      <img src="be7.jpg" alt="Project 7" loading="lazy">
      <img src="be8.jpg" alt="Project 8" loading="lazy">
    </div>
    <div class="carousel-dots" id="carouselDots" aria-hidden="true"></div>
  </div>
</section>

<section id="contact" class="panel" aria-labelledby="contact-title">
  <h2 id="contact-title">Contact Us</h2>
  <p>You can reach us via phone, email, or visit our office. Fill out the form below for quick enquiries.</p>

  <div style="margin-top:16px; display:grid; gap:6px; margin-bottom:16px">
    <p>📞 <a href="tel:+919945194502" style="color:inherit; text-decoration:none">+91-9945194502</a></p>
    <p>✉️ <a href="mailto:info@buyitelectricals.com" style="color:inherit; text-decoration:none">info@buyitelectricals.com</a></p>
    <p>📍 Ronihal, Tq: Kolhar, Dist: Vijayapura – 586210</p>
  </div>

  <form onsubmit="sendMail(event)" aria-label="Enquiry form">
    <div class="form-row">
      <div>
        <label for="name">Name</label>
        <input id="name" class="field" type="text" required placeholder="Your name">
      </div>
      <div>
        <label for="email">Email (optional)</label>
        <input id="email" class="field" type="email" placeholder="you@example.com">
      </div>
    </div>
    <div style="margin-top:12px">
      <label for="message">Message</label>
      <textarea id="message" class="field" required placeholder="What can we help you with?"></textarea>
    </div>
    <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap">
      <button type="submit" class="btn"><i class="fa-brands fa-whatsapp"></i> Send via WhatsApp</button>
      <button type="reset" class="btn outline"><i class="fa-solid fa-rotate-left"></i> Reset</button>
    </div>
    <p id="formNote" style="margin-top:8px; color:var(--muted)"></p>
  </form>
</section>

<!-- Admin Dashboard Page (hidden until login) -->
<!-- Admin Dashboard Page (hidden until login) -->
<section id="adminPage" class="panel" style="display:none; padding:20px;">
  <!-- Header with Logout button -->
  <div style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; margin-bottom:20px;">
    <h2 style="margin:0; color:var(--brand)">Admin Dashboard</h2>
    <button id="adminLogoutBtn"><i class="fa-solid fa-right-from-bracket"></i> Logout</button>
  </div>

  <!-- Vertical Dashboard Menu -->
  <div class="admin-dashboard">
    <a href="https://script.google.com/macros/s/AKfycbz_JSfnJLMqqq7D7_X6mF84IQvf394j3kB8QUidCCOG2j-MORack6KRXUiGY2AVuwAs/exec" class="dash-item">
      <i class="fa-solid fa-receipt"></i>
      <span>Expense Tracking</span>
    </a>
    <a href="billing.html" class="dash-item">
      <i class="fa-solid fa-file-invoice"></i>
      <span>Billing</span>
    </a>
    <a href="quotation.html" class="dash-item">
      <i class="fa-solid fa-file-signature"></i>
      <span>Quotation</span>
    </a>
    <a href="inventory.html" class="dash-item">
      <i class="fa-solid fa-boxes-stacked"></i>
      <span>Inventory</span>
    </a>
    <a href="reports.html" class="dash-item">
      <i class="fa-solid fa-chart-line"></i>
      <span>Reports</span>
    </a>
  </div>
</section>

  <!-- Optional in-page admin sections if you decide to keep them -->
  <div id="expense" style="display:none; margin-top:20px;">
  <h3>Expense Tracking</h3>
  <div style="position:relative; padding-top:75%; height:0; overflow:hidden; border-radius:12px; border:1px solid #ccc;">
    <iframe 
      src="https://script.google.com/macros/s/AKfycbz_JSfnJLMqqq7D7_X6mF84IQvf394j3kB8QUidCCOG2j-MORack6KRXUiGY2AVuwAs/exec"
      style="position:absolute; top:0; left:0; width:100%; height:100%; border:none;">
    </iframe>
  </div>
</div>
  <div id="billing" style="display:none; margin-top:20px">
    <h3>Billing</h3>
    <p>Billing page content goes here.</p>
  </div>
  <div id="quotation" style="display:none; margin-top:20px">
    <h3>Quotation</h3>
    <p>Quotation page content goes here.</p>
  </div>
</section>

<section id="customers" class="panel" aria-labelledby="customers-title">
  <h2 id="customers-title">Our Valuable Customers</h2>
  <div class="carousel-wrapper">
    <button class="carousel-btn prev" aria-label="Previous">&lt;</button>
    <div class="carousel-container">
      <div class="carousel-track" id="customersTrack">
        <div class="carousel-card"><img src="c1.jpg" alt="HESCOM"><span>HESCOM</span></div>
        <div class="carousel-card"><img src="c2.jpg" alt="GESCOM"><span>GESCOM</span></div>
        <div class="carousel-card"><img src="c3.jpg" alt="KPTCL"><span>KPTCL</span></div>
        <div class="carousel-card"><img src="c4.jpg" alt="NTPC"><span>NTPC</span></div>
        <div class="carousel-card"><img src="c5.jpg" alt="IOCL"><span>IOCL</span></div>
      </div>
    </div>
    <button class="carousel-btn next" aria-label="Next">&gt;</button>
  </div>
</section>

<section id="team" class="panel" aria-labelledby="team-title">
  <h2 id="team-title">Meet Our Team</h2>
  <div class="carousel-wrapper">
    <button class="carousel-btn prev" aria-label="Previous">&lt;</button>
    <div class="carousel-container">
      <div class="carousel-track" id="teamTrack">
        <div class="carousel-card"><img src="t1.jpg" alt="Mr.Maruti"><span>Mr.Maruti B<br><small>Propriator</small></span></div>
        <div class="carousel-card"><img src="t2.jpg" alt="Mr.Praveen"><span>Mr.Praveen B<br><small>Site Engineer</small></span></div>
        <div class="carousel-card"><img src="t3.jpg" alt="Mr.Mallikarjun L"><span>Mr.Mallikarjun L<br><small>Manager</small></span></div>
        <div class="carousel-card"><img src="t4.jpg" alt="Mr.Mahantesh B"><span>Mr.Mahantesh B<br><small>Engineer</small></span></div>
        <div class="carousel-card"><img src="t5.jpg" alt="Mr.Ajit"><span>Mr.Ajit B<br><small>Site Supervisor</small></span></div>
      </div>
    </div>
    <button class="carousel-btn next" aria-label="Next">&gt;</button>
  </div>
</section>

<!-- Admin Login Modal -->
<!-- Admin Login Modal -->
<div id="adminModal" role="dialog" aria-modal="true" aria-labelledby="adminModalTitle" 
     style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.5); justify-content:center; align-items:center; z-index:2000;">
  <div class="card" style="background:#fff; padding:20px; border-radius:12px; max-width:350px; width:90%; position:relative;">
    <h2 id="adminModalTitle" style="margin-bottom:16px; color:var(--brand)">Admin Login</h2>
    <input type="text" id="adminUser" class="field" placeholder="Username" autocomplete="username" style="margin-bottom:10px; width:100%;">
    <input type="password" id="adminPass" class="field" placeholder="Password" autocomplete="current-password" style="margin-bottom:14px; width:100%;">
    <button class="btn" id="adminLoginBtn" style="width:100%; margin-bottom:10px;"><i class="fa-solid fa-right-to-bracket"></i> Login</button>
    <p id="adminNote" style="color:#d33; margin-top:10px"></p>
    <span class="close" id="adminModalClose" aria-label="Close" style="position:absolute; top:10px; right:12px; font-size:20px; cursor:pointer;">×</span>
  </div>
</div>
<footer>
  © 2025 M/s. Buyite Electricals. All Rights Reserved.
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {
  // ===== Drawer =====
  const sidebar = document.getElementById('sidebar');
  function toggleSidebar() { sidebar?.classList.toggle('open'); }
  window.toggleSidebar = toggleSidebar;

  document.addEventListener('click', e => {
    if(sidebar?.classList.contains('open')){
      const within = sidebar.contains(e.target) || e.target.closest('.menu-btn');
      if(!within) sidebar.classList.remove('open');
    }
  });

  // ===== Smooth scroll =====
  function scrollToPanel(id){
    const headerOffset = document.querySelector('header')?.offsetHeight || 0;
    const el = document.getElementById(id);
    if(!el) return;
    const y = el.getBoundingClientRect().top + window.scrollY - headerOffset - 12;
    window.scrollTo({top:y, behavior:'smooth'});
    sidebar?.classList.remove('open');
  }
  window.scrollToPanel = scrollToPanel;

  // ===== Active link highlight =====
  const menuLinks = document.querySelectorAll('.sidebar a[href^="#"]');
  function highlightMenu(){
    const fromTop = window.scrollY + 120;
    menuLinks.forEach(link => {
      const sel = link.getAttribute('href');
      const target = sel ? document.querySelector(sel) : null;
      if(target && target.offsetTop <= fromTop && (target.offsetTop + target.offsetHeight) > fromTop){
        link.classList.add('active');
      } else {
        link.classList.remove('active');
      }
    });
  }
  window.addEventListener('scroll', highlightMenu);
  window.addEventListener('load', highlightMenu);

  // ===== Reveal panels =====
  const panels = document.querySelectorAll('.panel');
  function showPanels(){
    const triggerBottom = window.innerHeight * 0.85;
    panels.forEach(p => {
      const top = p.getBoundingClientRect().top;
      if(top < triggerBottom) p.classList.add('visible');
    });
  }
  window.addEventListener('scroll', showPanels);
  window.addEventListener('load', showPanels);

  // ===== Carousel =====
  const track = document.getElementById('carouselTrack');
  const slides = Array.from(track?.querySelectorAll('img') || []);
  const dotsWrap = document.getElementById('carouselDots');
  let cIndex = 0, cTimer;

  slides.forEach((_, i) => {
    const d = document.createElement('span');
    d.className = 'dot' + (i===0?' active':'');
    d.addEventListener('click', ()=> goTo(i));
    dotsWrap?.appendChild(d);
  });
  const dots = Array.from(dotsWrap?.children || []);

  function goTo(i){
    if(!track) return;
    cIndex = (i + slides.length) % slides.length;
    track.style.transition = 'transform 0.2s ease-in-out';
    track.style.transform = `translateX(-${cIndex*100}%)`;
    dots.forEach((d, idx) => d.classList.toggle('active', idx === cIndex));
    restartAuto();
  }

  function next(){ goTo(cIndex + 1); }
  function startAuto(){ cTimer = setInterval(next, 1500); }
  function stopAuto(){ clearInterval(cTimer); }
  function restartAuto(){ stopAuto(); startAuto(); }

  let startX = 0, delta = 0;
  track?.addEventListener('touchstart', e => { stopAuto(); startX = e.touches[0].clientX; }, {passive:true});
  track?.addEventListener('touchmove', e => { delta = e.touches[0].clientX - startX; }, {passive:true});
  track?.addEventListener('touchend', () => {
    if(Math.abs(delta) > 40){ delta > 0 ? goTo(cIndex - 1) : goTo(cIndex + 1); } 
    else { restartAuto(); }
    delta = 0;
  });
  startAuto();

  // ===== Contact form (WhatsApp) =====
  window.sendMail = function(e){
    e.preventDefault();
    const name = document.getElementById('name')?.value.trim();
    const email = document.getElementById('email')?.value.trim();
    const msg = document.getElementById('message')?.value.trim();
    const note = document.getElementById('formNote');
    if(!name || !msg){
      if(note) note.textContent = 'Please enter your name and message.';
      return;
    }
    const message = `Hello, my name is ${name}.${email? ' Email: '+email+'.' : ''} Message: ${msg}`;
    const url = `https://wa.me/919945194502?text=${encodeURIComponent(message)}`;
    if(note) note.textContent = 'Opening WhatsApp…';
    window.open(url, '_blank');
  };

  // ===== Admin login =====
  const adminModal = document.getElementById('adminModal');
  const adminPage = document.getElementById('adminPage');
  const adminUser = document.getElementById('adminUser');
  const adminPass = document.getElementById('adminPass');
  const adminNote = document.getElementById('adminNote');
  const loginBtn = document.querySelector('#adminModal .btn');

  window.openAdminLogin = function(){
    if(!adminModal) return;
    adminModal.style.opacity = 0;
    adminModal.style.display = 'flex';
    setTimeout(()=>{ adminModal.style.opacity = 1; }, 50);
    sidebar?.classList.remove('open');
  };

  window.closeAdminModal = function(){
    if(!adminModal) return;
    adminModal.style.opacity = 0;
    setTimeout(()=>{
      adminModal.style.display='none';
      if(adminNote) adminNote.textContent='';
      if(adminUser) adminUser.value='';
      if(adminPass) adminPass.value='';
    }, 300);
  };

  document.getElementById('adminModalClose')?.addEventListener('click', closeAdminModal);
  adminModal?.addEventListener('click', e => { if(e.target === adminModal) closeAdminModal(); });

  function checkLogin(){
    const user = adminUser?.value.trim();
    const pass = adminPass?.value.trim();
    if(user==='admin' && pass==='@Mruti#88'){
      closeAdminModal();
      panels.forEach(p => p.style.display='none');
      if(adminPage) adminPage.style.display='block';
      adminPage?.scrollIntoView({behavior:'smooth'});
      sessionStorage.setItem('isAdmin','true');
    } else {
      if(adminNote) adminNote.textContent='Invalid username or password!';
    }
  }

  loginBtn?.addEventListener('click', checkLogin);

  // Enter key login
  [adminUser, adminPass].forEach(input => {
    input?.addEventListener('keypress', e => {
      if(e.key === 'Enter') checkLogin();
    });
  });

  // ===== Logout =====
  window.logoutAdmin = function(){
    if(adminPage) adminPage.style.display='none';
    panels.forEach(p => p.style.display='block');
    sessionStorage.removeItem('isAdmin');
    document.getElementById('home')?.scrollIntoView({behavior:'smooth'});
  };

  // Attach logout button correctly
  document.getElementById('adminLogoutBtn')?.addEventListener('click', window.logoutAdmin);

  // ===== Restore session =====
  if(sessionStorage.getItem('isAdmin')==='true'){
    panels.forEach(p => p.style.display='none');
    if(adminPage) adminPage.style.display='block';
  }

  // Dashboard internal sections
  window.openSection = function(section){
    ['expense','billing','quotation'].forEach(id => {
      const el = document.getElementById(id);
      if(el) el.style.display='none';
    });
    const tgt = document.getElementById(section);
    if(tgt) tgt.style.display='block';
  };
});
</script>
</body>
</html>
